# JSON数据可视化工具

本仓库包含两个Streamlit应用程序，用于可视化JSON数据：

1. `plot_json_data.py` - 专门用于可视化cache目录数据的工具
2. `plot_general_json.py` - 可以处理各种JSON结构的通用工具

## 环境要求

所有需要的包都列在项目的 `requirements.txt` 文件中。可视化工具使用：

- streamlit
- pandas
- numpy
- matplotlib
- plotly

## 如何运行

### 运行cache目录可视化工具

```bash
streamlit run plot_json_data.py
```

该工具专门设计用于可视化具有预定义结构的cache目录下的ETF分红数据和市场情绪数据的JSON文件。它提供三种可视化类型：

- 分红历史（时间序列）
- 按年份的分红箱线图
- 分红热力图（按年和月）

### 运行通用JSON可视化工具

```bash
streamlit run plot_general_json.py
```

这个工具更加灵活，可以处理各种JSON数据结构。它支持：

1. 来自缓存目录的JSON文件
2. 用户上传的JSON文件

该工具会自动检测JSON数据的结构，并提供适当的可视化选项：

- 时间序列（适用于带有日期/时间列的数据）
- 柱状图
- 散点图
- 直方图
- 箱线图
- 热力图

## 功能特点

- 自动数据类型检测
- 使用Plotly的交互式可视化
- 日期/时间字段自动检测
- 支持嵌套的JSON结构
- 数据统计显示
- 原始数据查看选项

## 使用示例

1. 启动通用可视化工具
2. 从缓存目录选择JSON文件或上传您自己的文件
3. 从可用选项中选择可视化类型
4. 根据需要选择X轴、Y轴和其他参数
5. 与生成的可视化进行交互
6. 可选择通过勾选"显示原始数据"查看原始数据

## JSON数据格式支持

通用可视化工具可以处理：

- 字典列表（最常见的数据可视化格式）
- 嵌套字典
- 具有嵌套数组和对象的混合结构

对于复杂的嵌套结构，该工具会尝试在保持关系的同时展平数据以实现可视化。 